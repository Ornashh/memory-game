let cards=document.querySelectorAll(".card-inner"),cardOuter=document.querySelectorAll(".card-outer"),startBtn=document.querySelector(".start-btn"),stopBtn=document.querySelector(".stop-btn"),recordsBtn=document.querySelector(".records-btn"),closeBtn=document.querySelector(".close-btn"),records=document.querySelector(".records"),recordsList=document.querySelector(".records-list"),win=document.querySelector(".win"),timer=document.querySelector(".timer"),sec=0,min=0,interval=!1,clicked=!1,lock=!1,firstCard=null,secondCard=null,counter=0;function time(){sec++,timer.textContent=getTime(),59==sec&&(sec=0,min++)}function getTime(){return(min<10?"0"+min:min)+":"+(sec<10?"0"+sec:sec)}function randomPos(){for(var e=0;e<cardOuter.length;e++){let t=Math.floor(Math.random()*cardOuter.length);cardOuter[e].style.order=t}}function reset(){clicked=!1,lock=!1,firstCard=null,secondCard=null}function matched(){if(firstCard.removeEventListener("click",start),secondCard.removeEventListener("click",start),reset(),counter++,6==counter){counter=0,win.style.transform="scale(1)",startBtn.textContent="Start",stopBtn.disabled=!0;let e=document.createElement("li");e.innerText=getTime(),recordsList.appendChild(e),clearInterval(interval),interval=!1}}function unmatched(){lock=!0,setTimeout(()=>{firstCard.classList.remove("flip"),secondCard.classList.remove("flip"),reset()},500)}function check(){firstCard.dataset.language===secondCard.dataset.language?matched():unmatched()}function start(){if(!lock&&this!==firstCard){if(this.classList.add("flip"),!clicked)return clicked=!0,void(firstCard=this);secondCard=this,check()}}startBtn.addEventListener("click",(function(){counter=0,sec=-1,min=0,interval||(interval=setInterval(time,1e3)),win.style.transform="scale(0)",startBtn.textContent="Reset",stopBtn.disabled=!1,records.classList.remove("activeRecords"),randomPos(),cards.forEach((function(e){e.classList.add("flip"),setTimeout(()=>{e.classList.remove("flip")},1e3),e.addEventListener("click",start)}))})),stopBtn.addEventListener("click",(function(){reset(),counter=0,sec=-1,min=0,clearInterval(interval),interval=!1,timer.textContent="00:00",startBtn.textContent="Start",cards.forEach((function(e){e.classList.remove("flip"),e.removeEventListener("click",start)}))})),closeBtn.addEventListener("click",(function(){records.classList.remove("activeRecords")})),recordsBtn.addEventListener("click",(function(){records.classList.toggle("activeRecords")}));